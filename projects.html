<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Наши Проекты — Sapphire</title>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@600&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/lucide@latest"></script>
  <link rel="stylesheet" href="assets/css/styles.css" />
  <link rel="stylesheet" href="assets/css/pages/projects.css" />
</head>
<body>

    <div id="loadingScreen">
        <div class="title">Sapphire</div>
        <div class="loadingOuter">
          <div class="loadingInner"></div>
        </div>
      </div>

  <div class="sidebar">
    <h2>Sapphire</h2>
    <a href="index.html" class="nav-link"><i data-lucide="home"></i> Главная</a>
    <a href="projects.html" class="nav-link"><i data-lucide="folder"></i> Проекты</a>
    <a href="skills.html" class="nav-link"><i data-lucide="zap"></i> Навыки</a>
    <a href="team.html" class="nav-link"><i data-lucide="users"></i> Участники</a>
    <a href="contact.html" class="nav-link"><i data-lucide="mail"></i> Контакты</a>
  </div>

  <div id="mainContent" class="show">
    <div class="hero">
      <div class="hero-content">
        <h1>Наши Проекты</h1>
        <p>Погрузитесь в коллекцию наших лучших работ: от инновационных веб-приложений до уникальных дизайн-решений и игровых модификаций.</p>
        </div>
    </div>

    <section class="projects-filters-section">
        <div class="main-category-tabs">
            <button class="main-category-tab active" data-main-category="programming">Программирование</button>
            <button class="main-category-tab" data-main-category="design">Дизайн</button>
            <button class="main-category-tab" data-main-category="montage">Монтаж</button>
        </div>

        <div class="subcategory-tabs design-subcategories" style="display: none;">
            <button class="subcategory-tab active" data-subcategory="banner">Баннер</button>
            <button class="subcategory-tab" data-subcategory="default">Дефолт (1920x1080)</button>
        </div>

        <div class="projects-grid">
            <div class="project-card programming-card" data-main-category="programming">
                <img src="assets/images/programming-music.jpg" alt="Веб-сайт для прослушивания музыки" class="project-thumbnail">
                <div class="project-info">
                    <h3>Веб-сайт для прослушивания музыки</h3>
                    <p>Разработка веб-сайта для прослушивания музыки с плейлистами и чартами.</p>
                    <a href="https://example.com/music-site" target="_blank" class="project-link button-project"><i data-lucide="external-link"></i> Переадресация на сайт</a>
                </div>
            </div>

            <div class="project-card programming-card" data-main-category="programming">
                <img src="assets/images/programming-burger.jpg" alt="Landing для бургерной" class="project-thumbnail">
                <div class="project-info">
                    <h3>Landing для бургерной</h3>
                    <p>Разработка лендинга для бургерной с меню и онлайн-заказом.</p>
                    <a href="https://example.com/burger-landing" target="_blank" class="project-link button-project"><i data-lucide="external-link"></i> Переадресация на сайт</a>
                </div>
            </div>

            <div class="project-card programming-card" data-main-category="programming">
                <img src="assets/images/programming-hair-salon.jpg" alt="Веб-сайт для салона красоты" class="project-thumbnail">
                <div class="project-info">
                    <h3>Веб-сайт для салона красоты</h3>
                    <p>Разработка веб-сайта для салона красоты с онлайн-записью и портфолио.</p>
                    <a href="https://example.com/hair-salon" target="_blank" class="project-link button-project"><i data-lucide="external-link"></i> Переадресация на сайт</a>
                </div>
            </div>

            <div class="project-card design-banner-card" data-main-category="design" data-subcategory="banner">
                <img src="assets/images/desing/face_your.png" alt="Дизайн баннера Face Your Fears" class="project-thumbnail open-modal" data-full-image="assets/images/design-banner-face-your-fears.jpg">
            </div>

            <div class="project-card design-banner-card" data-main-category="design" data-subcategory="banner">
                <img src="assets/images/desing/haerin.png" alt="Дизайн баннера Haerin" class="project-thumbnail open-modal" data-full-image="assets/images/design-banner-haerin.jpg">
            </div>

            

            <div class="project-card design-banner-card" data-main-category="design" data-subcategory="banner">
                <img src="assets/images/desing/kang.png" alt="Дизайн баннера Kang Haerin" class="project-thumbnail open-modal" data-full-image="assets/images/design-banner-kang-haerin.jpg">
            </div>

            <div class="project-card design-banner-card" data-main-category="design" data-subcategory="banner">
                <img src="assets/images/desing/look.png" alt="Дизайн баннера Kang Haerin" class="project-thumbnail open-modal" data-full-image="assets/images/design-banner-kang-haerin.jpg">
            </div>

            <div class="project-card design-banner-card" data-main-category="design" data-subcategory="banner">
                <img src="assets/images/desing/take_a_break.png" alt="Дизайн баннера Kang Haerin" class="project-thumbnail open-modal" data-full-image="assets/images/design-banner-kang-haerin.jpg">
            </div>

            <div class="project-card design-banner-card" data-main-category="design" data-subcategory="banner">
                <img src="assets/images/desing/stay.png" alt="Дизайн баннера Kang Haerin" class="project-thumbnail open-modal" data-full-image="assets/images/design-banner-kang-haerin.jpg">
            </div>

            <div class="project-card design-default-card" data-main-category="design" data-subcategory="default">
                <img src="assets/images/design-default-qr-business-card.jpg" alt="Обратная сторона визитки QR" class="project-thumbnail open-modal size-specific-image" data-full-image="assets/images/design-default-qr-business-card.jpg" data-display-width="450px" data-display-height="250px">
                <div class="project-info">
                    <h3>Обратная сторона визитки</h3>
                    <p>Шаблон нашей визитки с QR-кодами для контактов.</p>
                    <p class="default-size">Размер: 90x50 мм</p>
                </div>
            </div>

            <div class="project-card design-default-card" data-main-category="design" data-subcategory="default">
                <img src="assets/images/desing/map.png" alt="Обратная сторона визитки QR" class="project-thumbnail open-modal size-specific-image" data-full-image="assets/images/design-default-qr-business-card.jpg" data-display-width="450px" data-display-height="250px">
                <div class="project-info">
                    <h3>Карта фэнтези-эпохи</h3>
                    <p>Фэнтезийная карта, где переплетаются исчезнувшие цивилизации и новые миры.</p>
                </div>
            </div>

            <div class="project-card design-default-card" data-main-category="design" data-subcategory="default">
                <img src="assets/images/desing/v1.png" alt="Обратная сторона визитки QR" class="project-thumbnail open-modal size-specific-image" data-full-image="assets/images/design-default-qr-business-card.jpg" data-display-width="450px" data-display-height="250px">
                <div class="project-info">
                    <h3>Главная сторона визитки</h3>
                    <p>Шаблон нашей визитки.</p>
                </div>
            </div>

            <div class="project-card design-default-card" data-main-category="design" data-subcategory="default">
                <img src="assets/images/desing/v2.png" alt="Обратная сторона визитки QR" class="project-thumbnail open-modal size-specific-image" data-full-image="assets/images/design-default-qr-business-card.jpg" data-display-width="450px" data-display-height="250px">
                <div class="project-info">
                    <h3>Обратная сторона визитки</h3>
                    <p>Шаблон нашей визитки.</p>
                </div>
            </div>
            

            <div class="project-card montage-card" data-main-category="montage">
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="project-info">
                    <h3>Промо-ролик для Sapphire</h3>
                    <p>Динамичный ролик, демонстрирующий возможности и философию команды Sapphire.</p>
                </div>
            </div>

            <div class="project-card montage-card" data-main-category="montage">
                <div class="video-container">
                    <iframe src="https://player.vimeo.com/video/844627447" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="project-info">
                    <h3>Короткометражный фильм "Грани"</h3>
                    <p>Монтаж и цветокоррекция независимого короткометражного фильма с глубоким сюжетом.</p>
                </div>
            </div>
            
            <div class="no-projects-placeholder" data-main-category="empty">
                <i data-lucide="archive-x"></i>
                <p>В этой категории пока нет проектов.</p>
            </div>
        </div>
    </section>
  </div>

  <div id="imageModal" class="modal">
    <span class="modal-close"><i data-lucide="x"></i></span>
    <img class="modal-content" id="fullImage">
  </div>

  <script src="assets/js/script.js"></script>
  <script>
    lucide.createIcons();
    document.addEventListener('DOMContentLoaded', () => {
        const mainCategoryTabs = document.querySelectorAll('.main-category-tab');
        const subcategoryTabsContainer = document.querySelector('.subcategory-tabs.design-subcategories');
        const subcategoryTabs = document.querySelectorAll('.subcategory-tab');
        const projectCards = document.querySelectorAll('.project-card');
        const noProjectsPlaceholder = document.querySelector('.no-projects-placeholder');

        let currentMainCategory = 'programming'; // Default active category

        function showNoProjectsPlaceholder(categoryName) {
            noProjectsPlaceholder.querySelector('p').textContent = `В категории "${categoryName}" пока нет проектов.`;
            noProjectsPlaceholder.classList.add('active-placeholder');
        }

        function hideNoProjectsPlaceholder() {
            noProjectsPlaceholder.classList.remove('active-placeholder');
        }

        function filterProjects(mainCategory, subcategory = null) {
            let projectsFound = 0;
            projectCards.forEach(card => {
                const cardMainCategory = card.dataset.mainCategory;
                const cardSubcategory = card.dataset.subcategory;
                let isVisible = false;

                if (mainCategory === cardMainCategory) {
                    if (mainCategory === 'design') {
                        if (subcategory === null || subcategory === cardSubcategory) {
                            isVisible = true;
                        }
                    } else {
                        isVisible = true;
                    }
                }
                card.style.display = isVisible ? 'flex' : 'none'; // Use flex for card display
                if (isVisible) projectsFound++;
            });

            let categoryDisplayName = '';
            switch (mainCategory) {
                case 'programming': categoryDisplayName = 'Программирование'; break;
                case 'design':
                    if (subcategory === 'banner') categoryDisplayName = 'Дизайн / Баннер';
                    else if (subcategory === 'default') categoryDisplayName = 'Дизайн / Дефолт';
                    else categoryDisplayName = 'Дизайн'; // Fallback for design if subcategory not set
                    break;
                case 'montage': categoryDisplayName = 'Монтаж'; break;
                default: categoryDisplayName = 'этой категории';
            }

            if (projectsFound === 0) showNoProjectsPlaceholder(categoryDisplayName);
            else hideNoProjectsPlaceholder();
        }

        // Event listeners for main category tabs
        mainCategoryTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                mainCategoryTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentMainCategory = tab.dataset.mainCategory;

                if (currentMainCategory === 'design') {
                    subcategoryTabsContainer.style.display = 'flex';
                    subcategoryTabs.forEach(t => t.classList.remove('active'));
                    // Activate the first subcategory for Design (Banner)
                    const firstDesignSubcategory = document.querySelector('.subcategory-tab[data-subcategory="banner"]');
                    if (firstDesignSubcategory) {
                        firstDesignSubcategory.classList.add('active');
                        filterProjects(currentMainCategory, firstDesignSubcategory.dataset.subcategory);
                    } else {
                         filterProjects(currentMainCategory); // Fallback if no subcategories
                    }
                } else {
                    subcategoryTabsContainer.style.display = 'none';
                    filterProjects(currentMainCategory);
                }
            });
        });

        // Event listeners for subcategory tabs
        subcategoryTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                subcategoryTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                filterProjects(currentMainCategory, tab.dataset.subcategory);
            });
        });

        // Initialize with "Программирование" category active
        const initialMainTab = document.querySelector('.main-category-tab[data-main-category="programming"]');
        if (initialMainTab) initialMainTab.click(); // Simulate click to activate and filter

        // --- Модальное окно для изображений ---
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('fullImage');
        const closeModalBtn = document.querySelector('.modal-close');
        const openModalImages = document.querySelectorAll('.open-modal'); // Выбираем изображения с классом open-modal

        openModalImages.forEach(img => {
            img.addEventListener('click', function() {
                modal.style.display = 'block';
                modalImg.src = this.dataset.fullImage; // Используем путь из data-full-image

                // Сбрасываем предыдущие стили
                modalImg.style.maxWidth = '';
                modalImg.style.maxHeight = '';
                modalImg.style.width = '';
                modalImg.style.height = '';
                modalImg.style.objectFit = 'contain'; // По умолчанию

                // Проверяем, является ли изображение "size-specific"
                if (this.classList.contains('size-specific-image')) {
                    const displayWidth = this.dataset.displayWidth || 'auto';
                    const displayHeight = this.dataset.displayHeight || 'auto';
                    modalImg.style.maxWidth = displayWidth;
                    modalImg.style.maxHeight = displayHeight;
                    modalImg.style.width = displayWidth; // Устанавливаем конкретную ширину
                    modalImg.style.height = displayHeight; // Устанавливаем конкретную высоту
                    modalImg.style.objectFit = 'fill'; // Заполнить указанный размер
                } else {
                    // Для обычных баннеров и других изображений - растягиваем на 90% экрана
                    modalImg.style.maxWidth = '90%';
                    modalImg.style.maxHeight = '90vh';
                    modalImg.style.objectFit = 'contain';
                }

                document.body.style.overflow = 'hidden'; // Запретить прокрутку фона
            });
        });

        closeModalBtn.addEventListener('click', function() {
            modal.style.display = 'none';
            document.body.style.overflow = ''; // Возобновить прокрутку
        });

        modal.addEventListener('click', function(e) {
            if (e.target === modal) { // Закрыть, если клик был вне изображения
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }
        });

        // Закрытие по клавише ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal.style.display === 'block') {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }
        });
    });
  </script>
</body>
</html>